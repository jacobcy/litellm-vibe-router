# CLIProxyAPI config template for chat-auto (第1级降级服务)
#
# 这个模板会被 deploy.sh 读取，并用 .env 中的 CHAT_AUTO_API_KEY 自动生成 cliproxyapi.config.yaml
# 注意：不要直接修改 cliproxyapi.config.yaml，因为它会被脚本覆盖

host: ""
port: 8317

auth-dir: "/cli-proxy-auth"

# ==========================================
# LiteLLM 访问本服务使用的认证密钥
# ==========================================
api-keys:
  - "{{CHAT_AUTO_API_KEY}}"

# ==========================================
# 上游 AI 服务配置（CLIProxyAPI 转发到这里）
# ==========================================
# ⚠️ 根据你的情况配置真实的上游 API 密钥，如果只使用 LiteLLM 的路由，可以保留默认的 new-api 配置。

codex-api-key:
  - api-key: "你的真实Codex-API-Key"  # ⚠️ 必须替换！
    # base-url: "https://api.openai.com/v1"

# ==========================================
# 管理 API 设置（用于 OAuth 登录）
# ==========================================
remote-management:
  allow-remote: true  # 允许远程访问管理界面
  secret-key: "{{CLIPROXY_MANAGEMENT_KEY}}"  # 管理界面密码
  disable-control-panel: false  # 启用 Web 控制面板

# ==========================================
# 运行时设置
# ==========================================
debug: false
request-retry: 3
max-retry-interval: 30
routing:
  strategy: "round-robin"
